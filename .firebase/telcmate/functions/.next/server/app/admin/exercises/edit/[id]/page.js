(()=>{var e={};e.id=235,e.ids=[235],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5186:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d});var a=t(7025),r=t(18198),i=t(82576),l=t.n(i),n=t(45239),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d={children:["",{children:["admin",{children:["exercises",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,27832)),"D:\\downloads\\compressed\\telc-b2-prep_4\\app\\admin\\exercises\\edit\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,10254)),"D:\\downloads\\compressed\\telc-b2-prep_4\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,59650)),"D:\\downloads\\compressed\\telc-b2-prep_4\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,4540,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,53117,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,6874,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["D:\\downloads\\compressed\\telc-b2-prep_4\\app\\admin\\exercises\\edit\\[id]\\page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/exercises/edit/[id]/page",pathname:"/admin/exercises/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9106:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>c,TN:()=>o,XL:()=>d});var a=t(45781),r=t(13072),i=t(87990),l=t(77401);let n=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=r.forwardRef(({className:e,variant:s,...t},r)=>(0,a.jsx)("div",{ref:r,role:"alert",className:(0,l.cn)(n({variant:s}),e),...t}));c.displayName="Alert";let d=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...s}));d.displayName="AlertTitle";let o=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...s}));o.displayName="AlertDescription"},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27832:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(51129).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\downloads\\\\compressed\\\\telc-b2-prep_4\\\\app\\\\admin\\\\exercises\\\\edit\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\downloads\\compressed\\telc-b2-prep_4\\app\\admin\\exercises\\edit\\[id]\\page.tsx","default")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70765:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(22752).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},78087:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>$});var a=t(45781),r=t(13072),i=t(7439),l=t(28328),n=t.n(l),c=t(49641),d=t(16020),o=t(14784),x=t(44238),m=t(14132),h=t(52659),p=t(63352),u=t(48414),j=t(70765),v=t(22752);let g=(0,v.A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var b=t(44186);let N=(0,v.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var y=t(79252),f=t(73342),w=t(50587),C=t(9106),k=t(50095);function $({params:e}){let s=(0,i.useRouter)(),{toast:t}=(0,f.dj)(),[l,v]=(0,r.useState)(!1),[$,T]=(0,r.useState)(!0),[L,S]=(0,r.useState)(null),[q,A]=(0,r.useState)(""),[E,F]=(0,r.useState)(""),[P,_]=(0,r.useState)(""),[R,M]=(0,r.useState)(""),[z,B]=(0,r.useState)(15),[O,W]=(0,r.useState)(""),[D,U]=(0,r.useState)([{content:"",correctTitle:""}]),[V,X]=(0,r.useState)([""]),[I,Q]=(0,r.useState)([""]),[G,Z]=(0,r.useState)([[""]]),[Y,H]=(0,r.useState)([0]),[K,J]=(0,r.useState)([{content:""}]),[ee,es]=(0,r.useState)([""]),[et,ea]=(0,r.useState)(["X"]),[er,ei]=(0,r.useState)(""),[el,en]=(0,r.useState)(null),[ec,ed]=(0,r.useState)(""),[eo,ex]=(0,r.useState)(""),[em,eh]=(0,r.useState)([{type:"text",content:""}]),[ep,eu]=(0,r.useState)([{options:["","","",""]}]),[ej,ev]=(0,r.useState)(["","","","","","","","","",""]),[eg,eb]=(0,r.useState)([""]),[eN,ey]=(0,r.useState)([""]),[ef,ew]=(0,r.useState)([""]),[eC,ek]=(0,r.useState)([""]),[e$,eT]=(0,r.useState)(""),[eL,eS]=(0,r.useState)(["Task completion","Organization and coherence","Range of vocabulary","Grammatical accuracy","Register and format"]),eq=e=>{let s=[...D];s.splice(e,1),U(s)},eA=(e,s,t)=>{let a=[...D];a[e][s]=t,U(a)},eE=(e,s)=>{let t=[...V];t[e]=s,X(t)},eF=e=>{let s=[...V];s.splice(e,1),X(s)},eP=e=>{let s=[...K];s.splice(e,1),J(s)},e_=(e,s)=>{let t=[...K];t[e].content=s,J(t)},eR=(e,s)=>{let t=[...ee];t[e]=s,es(t)},eM=(e,s)=>{let t=[...et];t[e]=s,ea(t)},ez=()=>{Q([...I,""]),Z([...G,[""]]),H([...Y,0])},eB=e=>{let s=[...I];s.splice(e,1),Q(s);let t=[...G];t.splice(e,1),Z(t);let a=[...Y];a.splice(e,1),H(a)},eO=(e,s)=>{let t=[...I];t[e]=s,Q(t)},eW=e=>{let s=[...G];s[e]=[...s[e],""],Z(s)},eD=(e,s)=>{let t=[...G];t[e].splice(s,1),Z(t)},eU=(e,s,t)=>{let a=[...G];a[e][s]=t,Z(a)},eV=(e,s)=>{let t=[...Y];t[e]=Number.parseInt(s),H(t)},eX=()=>{eh([...em,{type:"blank",blankIndex:ep.length},{type:"text",content:""}]),eu([...ep,{options:["","","",""]}])},eI=(e,s)=>{let t=[...em];"text"===t[e].type&&(t[e].content=s),eh(t)},eQ=(e,s,t)=>{let a=[...ep];a[e].options[s]=t,eu(a)},eG=(e,s)=>{let t=[...ej];t[e]=s,ev(t)},eZ=e=>{let s=[...eL];s.splice(e,1),eS(s)},eY=(e,s)=>{let t=[...eL];t[e]=s,eS(t)};return $?(0,a.jsx)(k.A,{}):l?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(d.A,{}),(0,a.jsx)(c.A,{}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Exercise"}),(0,a.jsx)(n(),{href:"/admin",children:(0,a.jsx)(x.$,{variant:"outline",children:"Back to Dashboard"})})]}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!P||!R||!q||!E||!z){t({title:"Validation Error",description:"Please fill in all required fields.",variant:"destructive"});return}if("listening"===q&&!er){ex("Please provide an audio file or URL"),t({title:"Validation Error",description:"Please provide an audio file for the listening exercise.",variant:"destructive"});return}let a={...L,type:q,part:E,title:P,description:R,timeLimit:Number.parseInt(z)};if("reading"===q){if("part1"===E){let e=V.filter(e=>""!==e.trim());a={...a,texts:D,titles:e}}else if("part2"===E)a={...a,content:O,questions:I,options:G,correctAnswers:Y};else if("part3"===E){let e=ee.filter(e=>""!==e.trim()),s=K.filter(e=>""!==e.content.trim()),t=et.slice(0,e.length);a={...a,titles:e,texts:s,correctMatches:t}}}else"listening"===q?(a={...a,audioUrl:er,questions:I,options:G,correctAnswers:Y},"part2"===E&&(a.transcript=ec)):"grammar"===q?"part1"===E?a={...a,textWithBlanks:em,blanks:ep,correctAnswers:Y}:"part2"===E&&(a={...a,textWithBlanks:em,blanks:ep.map((e,s)=>({correctWord:e.options[0]})),wordBank:ej}):"writing"===q&&(a={...a,prompt:e$,evaluationCriteria:eL});(0,w.O7)(a)?(t({title:"Exercise Updated",description:"The exercise has been updated successfully."}),s.push("/admin")):t({title:"Update Failed",description:"Failed to update the exercise. Please try again.",variant:"destructive"})},children:[(0,a.jsxs)(o.Zp,{className:"mb-6",children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{children:"Basic Information"})}),(0,a.jsxs)(o.Wu,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"exerciseType",children:"Exercise Type"}),(0,a.jsxs)(u.l6,{value:q,onValueChange:A,required:!0,disabled:!0,children:[(0,a.jsx)(u.bq,{id:"exerciseType",children:(0,a.jsx)(u.yv,{placeholder:"Select exercise type"})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"reading",children:"Reading"}),(0,a.jsx)(u.eb,{value:"listening",children:"Listening"}),(0,a.jsx)(u.eb,{value:"grammar",children:"Grammar"}),(0,a.jsx)(u.eb,{value:"writing",children:"Writing"})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Exercise type cannot be changed"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"exercisePart",children:"Exercise Part"}),(0,a.jsxs)(u.l6,{value:E,onValueChange:F,required:!0,disabled:!0,children:[(0,a.jsx)(u.bq,{id:"exercisePart",children:(0,a.jsx)(u.yv,{placeholder:"Select exercise part"})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"part1",children:"Teil 1"}),(0,a.jsx)(u.eb,{value:"part2",children:"Teil 2"}),"grammar"!==q&&"writing"!==q&&(0,a.jsx)(u.eb,{value:"part3",children:"Teil 3"})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Exercise part cannot be changed"})]})]}),q&&E&&(0,a.jsxs)(C.Fc,{className:"mb-6",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),(0,a.jsx)(C.XL,{children:"Exercise Type Information"}),(0,a.jsxs)(C.TN,{children:["reading"===q&&"part1"===E&&"Title Matching Exercise","reading"===q&&"part2"===E&&"Multiple Choice Questions","reading"===q&&"part3"===E&&"Title-Text Matching with X Option","listening"===q&&"part1"===E&&"Short Conversations","listening"===q&&"part2"===E&&"Dialogue","listening"===q&&"part3"===E&&"News and Announcements","grammar"===q&&"part1"===E&&"Fill in the Blanks","grammar"===q&&"part2"===E&&"Word Formation","writing"===q&&"part1"===E&&"Formal Letter/Email","writing"===q&&"part2"===E&&"Essay"]})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,a.jsx)(h.Label,{htmlFor:"title",children:"Title"}),(0,a.jsx)(m.p,{id:"title",value:P,onChange:e=>_(e.target.value),placeholder:"Enter exercise title",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,a.jsx)(h.Label,{htmlFor:"description",children:"Description"}),(0,a.jsx)(p.T,{id:"description",value:R,onChange:e=>M(e.target.value),placeholder:"Enter exercise description",className:"min-h-[100px]",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"timeLimit",children:"Time Limit (minutes)"}),(0,a.jsx)(m.p,{id:"timeLimit",type:"number",value:z,onChange:e=>B(e.target.value),min:"1",max:"120",required:!0})]})]})]}),q&&E&&(0,a.jsxs)(o.Zp,{className:"mb-6",children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{children:"Exercise Content"})}),(0,a.jsxs)(o.Wu,{children:["reading"===q&&"part1"===E&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Title Matching Exercise"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(h.Label,{children:"Texts"}),D.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 border rounded-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("h4",{className:"font-medium",children:["Text ",s+1]}),(0,a.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>eq(s),disabled:D.length<=1,children:(0,a.jsx)(g,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:`text-content-${s}`,children:"Content"}),(0,a.jsx)(p.T,{id:`text-content-${s}`,value:e.content,onChange:e=>eA(s,"content",e.target.value),placeholder:"Enter text content",className:"min-h-[100px]"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:`text-title-${s}`,children:"Correct Title"}),(0,a.jsx)(m.p,{id:`text-title-${s}`,value:e.correctTitle,onChange:e=>eA(s,"correctTitle",e.target.value),placeholder:"Enter correct title for this text"})]})]})]},s)),(0,a.jsxs)(x.$,{type:"button",variant:"outline",onClick:()=>{U([...D,{content:"",correctTitle:""}])},className:"w-full",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"})," Add Text"]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(h.Label,{children:"Titles (including distractors)"}),(0,a.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{X([...V,""])},children:(0,a.jsx)(b.A,{className:"h-4 w-4"})})]}),V.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,a.jsxs)(h.Label,{htmlFor:`title-${s}`,children:["Title ",s+1]}),(0,a.jsx)(m.p,{id:`title-${s}`,value:e,onChange:e=>eE(s,e.target.value),placeholder:`Enter title ${s+1}`})]}),(0,a.jsx)(x.$,{type:"button",variant:"outline",size:"sm",className:"mt-8",onClick:()=>eF(s),disabled:V.length<=D.length,children:(0,a.jsx)(g,{className:"h-4 w-4"})})]},s)),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Note: You should have at least as many titles as texts, plus some distractors."})]})]}),"reading"===q&&"part2"===E&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Multiple Choice Exercise"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"reading-content",children:"Reading Text"}),(0,a.jsx)(p.T,{id:"reading-content",value:O,onChange:e=>W(e.target.value),placeholder:"Enter the reading text",className:"min-h-[200px]"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(h.Label,{children:"Questions"}),I.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 border rounded-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("h4",{className:"font-medium",children:["Question ",s+1]}),(0,a.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>eB(s),disabled:I.length<=1,children:(0,a.jsx)(g,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:`question-${s}`,children:"Question Text"}),(0,a.jsx)(m.p,{id:`question-${s}`,value:e,onChange:e=>eO(s,e.target.value),placeholder:"Enter question text"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(h.Label,{children:"Options"}),(0,a.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>eW(s),children:(0,a.jsx)(b.A,{className:"h-4 w-4"})})]}),G[s]?.map((e,t)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(m.p,{value:e,onChange:e=>eU(s,t,e.target.value),placeholder:`Option ${t+1}`}),a.jsx(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>eD(s,t),disabled:G[s].length<=1,children:a.jsx(g,{className:"h-4 w-4"})})]},t))]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:`correct-answer-${s}`,children:"Correct Answer"}),(0,a.jsxs)(u.l6,{value:Y[s]?.toString(),onValueChange:e=>eV(s,e),children:[(0,a.jsx)(u.bq,{id:`correct-answer-${s}`,children:(0,a.jsx)(u.yv,{placeholder:"Select correct answer"})}),(0,a.jsx)(u.gC,{children:G[s]?.map((e,s)=>a.jsxs(u.eb,{value:s.toString(),children:["Option ",s+1]},s))})]})]})]})]},s)),(0,a.jsxs)(x.$,{type:"button",variant:"outline",onClick:ez,className:"w-full",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"})," Add Question"]})]})]}),"reading"===q&&"part3"===E&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Title-Text Matching with X Option"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"In this exercise, students need to match titles with texts. Some titles may not have a matching text (X option)."}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(h.Label,{children:"Titles"}),ee.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 border rounded-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("h4",{className:"font-medium",children:["Title ",s+1]}),s>0&&(0,a.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=[...ee];e.splice(s,1),es(e);let t=[...et];t.splice(s,1),ea(t)},children:(0,a.jsx)(g,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:`part3-title-${s}`,children:"Title Text"}),(0,a.jsx)(m.p,{id:`part3-title-${s}`,value:e,onChange:e=>eR(s,e.target.value),placeholder:"Enter title text"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:`correct-match-${s}`,children:"Correct Match"}),(0,a.jsxs)(u.l6,{value:et[s],onValueChange:e=>eM(s,e),children:[(0,a.jsx)(u.bq,{id:`correct-match-${s}`,children:(0,a.jsx)(u.yv,{placeholder:"Select correct match"})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"X",children:"X (No matching text)"}),K.map((e,s)=>(0,a.jsxs)(u.eb,{value:`text-${s}`,children:["Text ",s+1]},s))]})]})]})]})]},s)),(0,a.jsxs)(x.$,{type:"button",variant:"outline",onClick:()=>{es([...ee,""]),ea([...et,"X"])},className:"w-full",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"})," Add Title"]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(h.Label,{children:"Texts"}),K.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 border rounded-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("h4",{className:"font-medium",children:["Text ",s+1]}),(0,a.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>eP(s),disabled:K.length<=1,children:(0,a.jsx)(g,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:`part3-text-content-${s}`,children:"Content"}),(0,a.jsx)(p.T,{id:`part3-text-content-${s}`,value:e.content,onChange:e=>e_(s,e.target.value),placeholder:"Enter text content",className:"min-h-[100px]"})]})]},s)),(0,a.jsxs)(x.$,{type:"button",variant:"outline",onClick:()=>{J([...K,{content:""}])},className:"w-full",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"})," Add Text"]})]})]}),"listening"===q&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"part1"===E?"Short Conversations":"part2"===E?"Dialogue":"News and Announcements"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"audio-url",children:"Audio File"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(m.p,{id:"audio-url",value:er,onChange:e=>{ei(e.target.value),ex("")},placeholder:"Enter audio URL or path",className:"flex-1"}),(0,a.jsxs)("label",{className:"cursor-pointer",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50",children:[(0,a.jsx)(N,{className:"h-4 w-4 mr-2"})," Upload"]}),(0,a.jsx)("input",{type:"file",accept:"audio/*",className:"hidden",onChange:e=>{let s=e.target.files[0];if(s){if(!s.type.startsWith("audio/")){ex("Please upload an audio file (MP3, WAV, etc.)");return}en(s),ei(URL.createObjectURL(s)),ex("")}}})]})]}),er&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-1",children:"Audio Preview:"}),(0,a.jsxs)("audio",{controls:!0,className:"w-full",children:[(0,a.jsx)("source",{src:er}),"Your browser does not support the audio element."]})]}),eo&&(0,a.jsx)("p",{className:"text-sm text-red-500 mt-1",children:eo}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:'You can either upload an audio file or enter a URL. For demo purposes, you can enter a placeholder URL like "/audio/exercise-name.mp3"'})]})]}),"part2"===E&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"transcript",children:"Transcript"}),(0,a.jsx)(p.T,{id:"transcript",value:ec,onChange:e=>ed(e.target.value),placeholder:"Enter the audio transcript",className:"min-h-[200px]"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(h.Label,{children:"Questions"}),I.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 border rounded-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("h4",{className:"font-medium",children:["Question ",s+1]}),(0,a.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>eB(s),disabled:I.length<=1,children:(0,a.jsx)(g,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:`question-${s}`,children:"Question Text"}),(0,a.jsx)(m.p,{id:`question-${s}`,value:e,onChange:e=>eO(s,e.target.value),placeholder:"Enter question text"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(h.Label,{children:"Options"}),(0,a.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>eW(s),children:(0,a.jsx)(b.A,{className:"h-4 w-4"})})]}),G[s]?.map((e,t)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(m.p,{value:e,onChange:e=>eU(s,t,e.target.value),placeholder:`Option ${t+1}`}),a.jsx(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>eD(s,t),disabled:G[s].length<=1,children:a.jsx(g,{className:"h-4 w-4"})})]},t))]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:`correct-answer-${s}`,children:"Correct Answer"}),(0,a.jsxs)(u.l6,{value:Y[s]?.toString(),onValueChange:e=>eV(s,e),children:[(0,a.jsx)(u.bq,{id:`correct-answer-${s}`,children:(0,a.jsx)(u.yv,{placeholder:"Select correct answer"})}),(0,a.jsx)(u.gC,{children:G[s]?.map((e,s)=>a.jsxs(u.eb,{value:s.toString(),children:["Option ",s+1]},s))})]})]})]})]},s)),(0,a.jsxs)(x.$,{type:"button",variant:"outline",onClick:ez,className:"w-full",disabled:"part1"===E&&I.length>=5||"part2"===E&&I.length>=10||"part3"===E&&I.length>=6,children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"})," Add Question"]}),"part1"===E&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Maximum 5 questions for Teil 1"}),"part2"===E&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Maximum 10 questions for Teil 2"}),"part3"===E&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Maximum 6 questions for Teil 3"})]})]}),"grammar"===q&&"part1"===E&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Fill in the Blanks"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(h.Label,{children:"Text with Blanks"}),(0,a.jsxs)("div",{className:"p-4 border rounded-md",children:[em.map((e,s)=>(0,a.jsx)("div",{className:"mb-2",children:"text"===e.type?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:`text-segment-${s}`,children:"Text Segment"}),(0,a.jsx)(m.p,{id:`text-segment-${s}`,value:e.content,onChange:e=>eI(s,e.target.value),placeholder:"Enter text segment"})]}):(0,a.jsx)("div",{className:"flex items-center justify-center p-2 bg-gray-100 rounded-md",children:(0,a.jsxs)("span",{className:"text-gray-500",children:["Blank ",e.blankIndex+1]})})},s)),(0,a.jsxs)(x.$,{type:"button",variant:"outline",onClick:eX,className:"w-full mt-4",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"})," Add Blank"]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(h.Label,{children:"Blanks Options"}),ep.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 border rounded-md",children:[(0,a.jsxs)("h4",{className:"font-medium mb-2",children:["Blank ",s+1," Options"]}),(0,a.jsx)("div",{className:"space-y-2",children:e.options.map((e,t)=>(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)(m.p,{value:e,onChange:e=>eQ(s,t,e.target.value),placeholder:`Option ${t+1}`})},t))}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)(h.Label,{htmlFor:`correct-blank-${s}`,children:"Correct Option"}),(0,a.jsxs)(u.l6,{value:Y[s]?.toString(),onValueChange:e=>eV(s,e),children:[(0,a.jsx)(u.bq,{id:`correct-blank-${s}`,children:(0,a.jsx)(u.yv,{placeholder:"Select correct option"})}),(0,a.jsx)(u.gC,{children:e.options.map((e,s)=>(0,a.jsxs)(u.eb,{value:s.toString(),children:["Option ",s+1]},s))})]})]})]},s))]})]}),"grammar"===q&&"part2"===E&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Word Formation"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(h.Label,{children:"Text with Blanks"}),(0,a.jsxs)("div",{className:"p-4 border rounded-md",children:[em.map((e,s)=>(0,a.jsx)("div",{className:"mb-2",children:"text"===e.type?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:`text-segment-${s}`,children:"Text Segment"}),(0,a.jsx)(m.p,{id:`text-segment-${s}`,value:e.content,onChange:e=>eI(s,e.target.value),placeholder:"Enter text segment"})]}):(0,a.jsx)("div",{className:"flex items-center justify-center p-2 bg-gray-100 rounded-md",children:(0,a.jsxs)("span",{className:"text-gray-500",children:["Blank ",e.blankIndex+1]})})},s)),(0,a.jsxs)(x.$,{type:"button",variant:"outline",onClick:eX,className:"w-full mt-4",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"})," Add Blank"]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(h.Label,{children:"Blanks Correct Words"}),ep.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(h.Label,{htmlFor:`correct-word-${s}`,children:["Correct Word for Blank ",s+1]}),(0,a.jsx)(m.p,{id:`correct-word-${s}`,value:ep[s].options[0],onChange:e=>eQ(s,0,e.target.value),placeholder:"Enter correct word"})]},s))]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(h.Label,{children:"Word Bank"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:ej.map((e,s)=>(0,a.jsx)(m.p,{value:e,onChange:e=>eG(s,e.target.value),placeholder:`Word ${s+1}`},s))})]})]}),"writing"===q&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"part1"===E?"Formal Letter/Email":"Essay"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.Label,{htmlFor:"writing-prompt",children:"Writing Prompt"}),(0,a.jsx)(p.T,{id:"writing-prompt",value:e$,onChange:e=>eT(e.target.value),placeholder:"Enter the writing prompt",className:"min-h-[150px]"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(h.Label,{children:"Evaluation Criteria"}),(0,a.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{eS([...eL,""])},children:(0,a.jsx)(b.A,{className:"h-4 w-4"})})]}),eL.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(m.p,{value:e,onChange:e=>eY(s,e.target.value),placeholder:`Criterion ${s+1}`}),(0,a.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>eZ(s),disabled:eL.length<=1,children:(0,a.jsx)(y.A,{className:"h-4 w-4"})})]},s))]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)(n(),{href:"/admin",children:(0,a.jsx)(x.$,{variant:"outline",type:"button",children:"Cancel"})}),(0,a.jsx)(x.$,{type:"submit",children:"Update Exercise"})]})]})]})]}):null}},79551:e=>{"use strict";e.exports=require("url")},81225:(e,s,t)=>{Promise.resolve().then(t.bind(t,78087))},81630:e=>{"use strict";e.exports=require("http")},90953:(e,s,t)=>{Promise.resolve().then(t.bind(t,27832))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[654,93,951,96,748,102,626],()=>t(5186));module.exports=a})();