(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8001],{1526:(e,t,r)=>{"use strict";r.d(t,{E:()=>n,o:()=>c});var s=r(8081),l=r(2149),i=r(6017);let a=(0,l.createContext)(void 0);function c(e){let{children:t}=e,[r,c]=(0,l.useState)([{type:"reading",title:"Reading",parts:[{part:"part1",title:"Teil 1: Title Matching",selectedExerciseId:null,exercises:[]},{part:"part2",title:"Teil 2: Multiple Choice",selectedExerciseId:null,exercises:[]},{part:"part3",title:"Teil 3: Gap Filling",selectedExerciseId:null,exercises:[]}]},{type:"listening",title:"Listening",parts:[{part:"part1",title:"Teil 1: Short Conversations",selectedExerciseId:null,exercises:[]},{part:"part2",title:"Teil 2: Dialogue",selectedExerciseId:null,exercises:[]},{part:"part3",title:"Teil 3: News & Announcements",selectedExerciseId:null,exercises:[]}]},{type:"grammar",title:"Grammar",parts:[{part:"part1",title:"Teil 1: Fill in the Blanks",selectedExerciseId:null,exercises:[]},{part:"part2",title:"Teil 2: Word Formation",selectedExerciseId:null,exercises:[]}]},{type:"writing",title:"Writing",parts:[{part:"part1",title:"Teil 1: Writing Task",selectedExerciseId:null,exercises:[]}]}]),[n,o]=(0,l.useState)(0),[p,d]=(0,l.useState)(0),[u,x]=(0,l.useState)(!1),[E,f]=(0,l.useState)(null),[h,g]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=[...r];e.forEach((t,r)=>{t.parts.forEach((s,l)=>{let a="writing"===t.type?(0,i.DJ)(t.type,"part1").concat((0,i.DJ)(t.type,"part2")):(0,i.DJ)(t.type,s.part);e[r].parts[l].exercises=a.map(e=>({id:e.id,type:e.type,part:e.part,title:e.title}))})}),c(e)},[]),(0,l.useEffect)(()=>{let e=localStorage.getItem("currentTest");if(e)try{let{sections:t,currentSection:r,currentPart:s,isTestReady:l,writingChoice:i,showAnswers:a}=JSON.parse(e);c(t),o(r),d(s),x(l),void 0!==i&&f(i),void 0!==a&&g(a)}catch(e){console.error("Error loading saved test:",e),localStorage.removeItem("currentTest")}},[]),(0,s.jsx)(a.Provider,{value:{sections:r,currentSection:n,currentPart:p,setCurrentSection:o,setCurrentPart:d,selectExercise:(e,t,s)=>{let l=[...r];l[e].parts[t].selectedExerciseId=s,c(l)},getSelectedExercise:(e,t)=>{let s=r[e];if(!s)return null;let l=s.parts[t];if(!l)return null;let i=l.selectedExerciseId;if(!i)return null;let a=l.exercises.find(e=>e.id===i);return a||{id:i,type:s.type,part:l.part,title:"Exercise"}},isTestReady:u,startTest:()=>{x(!0),g(!1),localStorage.setItem("currentTest",JSON.stringify({sections:r,currentSection:n,currentPart:p,isTestReady:!0,writingChoice:E,showAnswers:h}))},completeTest:()=>{g(!0),localStorage.setItem("currentTest",JSON.stringify({sections:r,currentSection:n,currentPart:p,isTestReady:u,writingChoice:E,showAnswers:!0}))},resetTest:()=>{let e=[...r];e.forEach((t,r)=>{t.parts.forEach((t,s)=>{e[r].parts[s].selectedExerciseId=null})}),c(e),o(0),d(0),x(!1),f(null),g(!1),localStorage.removeItem("currentTest")},selectRandomExercises:()=>{let e=[...r],t=!0;return e.forEach((r,s)=>{r.parts.forEach((l,i)=>{let{exercises:a}=l;if(a.length>0){let t=Math.floor(Math.random()*a.length);e[s].parts[i].selectedExerciseId=a[t].id}else t=!1,console.warn("No exercises available for ".concat(r.type," ").concat(l.part))})}),c(e),t},writingChoice:E,setWritingChoice:f,showAnswers:h,setShowAnswers:g},children:t})}function n(){let e=(0,l.useContext)(a);if(void 0===e)throw Error("useTest must be used within a TestProvider");return e}},4168:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(8081),l=r(1526);function i(e){let{children:t}=e;return(0,s.jsx)(l.o,{children:t})}},4647:(e,t,r)=>{Promise.resolve().then(r.bind(r,4168))}},e=>{var t=t=>e(e.s=t);e.O(0,[6017,497,954,7358],()=>t(4647)),_N_E=e.O()}]);