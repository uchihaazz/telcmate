(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{186:(e,s,a)=>{"use strict";a.d(s,{Fc:()=>d,TN:()=>o,XL:()=>c});var t=a(8081),i=a(2149),l=a(3484),r=a(7687);let n=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=i.forwardRef((e,s)=>{let{className:a,variant:i,...l}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,r.cn)(n({variant:i}),a),...l})});d.displayName="Alert";let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("h5",{ref:s,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",a),...i})});c.displayName="AlertTitle";let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",a),...i})});o.displayName="AlertDescription"},900:(e,s,a)=>{"use strict";a.d(s,{p:()=>r});var t=a(8081),i=a(2149),l=a(7687);let r=i.forwardRef((e,s)=>{let{className:a,type:i,...r}=e;return(0,t.jsx)("input",{type:i,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...r})});r.displayName="Input"},4604:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>n});var t=a(8081),i=a(2149),l=a(8493),r=a(7687);let n=l.bL,d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.B8,{ref:s,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...i})});d.displayName=l.B8.displayName;let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.l9,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...i})});c.displayName=l.l9.displayName;let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.UC,{ref:s,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...i})});o.displayName=l.UC.displayName},5650:(e,s,a)=>{"use strict";a.d(s,{x:()=>t});class t{static isAdmin(e){return!0===e.isAdmin||"Admin"===e.role}static isModerator(e){return!0===e.isModerator||"Moderator"===e.role||this.isAdmin(e)}static canAddUsers(e){return this.isModerator(e)}static canEditUsers(e){return this.isModerator(e)}static canRemoveUsers(e){return this.isAdmin(e)}static canAddExercises(e){return this.isModerator(e)}static canEditExercises(e){return this.isModerator(e)}static canRemoveExercises(e){return this.isAdmin(e)}static canAccessSettings(e){return this.isAdmin(e)}static canEditSettings(e){return this.isAdmin(e)}}},5899:(e,s,a)=>{Promise.resolve().then(a.bind(a,7832))},6535:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});var t=a(2149),i=a(9684);function l(){return(0,t.useEffect)(()=>{(0,i.lK)(),(0,i.Yq)()},[]),null}},7832:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ei});var t=a(8081),i=a(2149),l=a(7950),r=a.n(l),n=a(9651),d=a(3621),c=a(6535),o=a(6810),m=a(5160),x=a(4604),h=a(1511),u=a(9921),f=a(1411),p=a(6893),g=a(7543),j=a(8286),N=a(5808),b=a(2235),v=a(1107),y=a(7188),w=a(9939),A=a(6017),S=a(5650),L=a(186),C=a(1877),T=a(7687);let k=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(C.bL,{className:(0,T.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...i,ref:s,children:(0,t.jsx)(C.zi,{className:(0,T.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});k.displayName=C.bL.displayName;var R=a(7890),E=a(900),M=a(5904),D=a(6554);let F=i.forwardRef((e,s)=>{let{className:a,orientation:i="horizontal",decorative:l=!0,...r}=e;return(0,t.jsx)(D.b,{ref:s,decorative:l,orientation:i,className:(0,T.cn)("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",a),...r})});F.displayName=D.b.displayName;var z=a(5844),J=a(8747),U=a(680),Z=a(3602),I=a(6722),B=a(8022);let G=U.bL,W=U.l9,_=U.YJ;U.ZL,U.Pb,U.z6,i.forwardRef((e,s)=>{let{className:a,inset:i,children:l,...r}=e;return(0,t.jsxs)(U.ZP,{ref:s,className:(0,T.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",a),...r,children:[l,(0,t.jsx)(Z.A,{className:"ml-auto"})]})}).displayName=U.ZP.displayName,i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(U.G5,{ref:s,className:(0,T.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})}).displayName=U.G5.displayName;let $=i.forwardRef((e,s)=>{let{className:a,sideOffset:i=4,...l}=e;return(0,t.jsx)(U.ZL,{children:(0,t.jsx)(U.UC,{ref:s,sideOffset:i,className:(0,T.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});$.displayName=U.UC.displayName;let P=i.forwardRef((e,s)=>{let{className:a,inset:i,...l}=e;return(0,t.jsx)(U.q7,{ref:s,className:(0,T.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",a),...l})});P.displayName=U.q7.displayName,i.forwardRef((e,s)=>{let{className:a,children:i,checked:l,...r}=e;return(0,t.jsxs)(U.H_,{ref:s,className:(0,T.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(U.VF,{children:(0,t.jsx)(I.A,{className:"h-4 w-4"})})}),i]})}).displayName=U.H_.displayName,i.forwardRef((e,s)=>{let{className:a,children:i,...l}=e;return(0,t.jsxs)(U.hN,{ref:s,className:(0,T.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(U.VF,{children:(0,t.jsx)(B.A,{className:"h-2 w-2 fill-current"})})}),i]})}).displayName=U.hN.displayName;let V=i.forwardRef((e,s)=>{let{className:a,inset:i,...l}=e;return(0,t.jsx)(U.JU,{ref:s,className:(0,T.cn)("px-2 py-1.5 text-sm font-semibold",i&&"pl-8",a),...l})});V.displayName=U.JU.displayName;let O=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(U.wv,{ref:s,className:(0,T.cn)("-mx-1 my-1 h-px bg-muted",a),...i})});O.displayName=U.wv.displayName;var Y=a(6413),q=a(2522);let X=Y.bL;Y.l9;let H=Y.ZL;Y.bm;let K=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(Y.hJ,{ref:s,className:(0,T.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...i})});K.displayName=Y.hJ.displayName;let Q=i.forwardRef((e,s)=>{let{className:a,children:i,...l}=e;return(0,t.jsxs)(H,{children:[(0,t.jsx)(K,{}),(0,t.jsxs)(Y.UC,{ref:s,className:(0,T.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[i,(0,t.jsxs)(Y.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(q.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});Q.displayName=Y.UC.displayName;let ee=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,T.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};ee.displayName="DialogHeader";let es=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,T.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};es.displayName="DialogFooter";let ea=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(Y.hE,{ref:s,className:(0,T.cn)("text-lg font-semibold leading-none tracking-tight",a),...i})});ea.displayName=Y.hE.displayName;let et=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(Y.VY,{ref:s,className:(0,T.cn)("text-sm text-muted-foreground",a),...i})});function ei(){let e=(0,n.useRouter)(),{toast:s}=(0,z.dj)(),[a,l]=(0,i.useState)(!1),[C,T]=(0,i.useState)(!1),[D,U]=(0,i.useState)(null),[Z,I]=(0,i.useState)([]),[B,Y]=(0,i.useState)([]),[q,H]=(0,i.useState)([]),[K,ei]=(0,i.useState)(!0),[el,er]=(0,i.useState)([]),[en,ed]=(0,i.useState)(!1),[ec,eo]=(0,i.useState)(!1),[em,ex]=(0,i.useState)(""),[eh,eu]=(0,i.useState)({type:"all",part:"all"}),[ef,ep]=(0,i.useState)({siteTitle:"Telc Mate",allowRegistration:!1,maintenanceMode:!1,defaultTimeLimit:{reading:20,listening:15,grammar:15,writing:30},language:"en",showCorrectAnswers:!0,allowTestRetake:!0,demoAccessLevel:"limited"}),[eg,ej]=(0,i.useState)(0),[eN,eb]=(0,i.useState)(0),[ev,ey]=(0,i.useState)(0),[ew,eA]=(0,i.useState)(0),[eS,eL]=(0,i.useState)(0),[eC,eT]=(0,i.useState)(0),[ek,eR]=(0,i.useState)(0),[eE,eM]=(0,i.useState)(0),[eD,eF]=(0,i.useState)(0),[ez,eJ]=(0,i.useState)(0);(0,i.useEffect)(()=>{let s="true"===localStorage.getItem("isAdmin"),a="true"===localStorage.getItem("isModerator");if(!s&&!a){e.push("/dashboard");return}l(s),T(a);let t=localStorage.getItem("userCode"),i=localStorage.getItem("users"),r=[];if(i){H(r=JSON.parse(i));let e=r.find(e=>e.code===t);e&&U(e)}let n=(0,A.jN)();I(n),Y(n),ej((0,A.DJ)("reading","part1").length),eb((0,A.DJ)("reading","part2").length),ey((0,A.DJ)("reading","part3").length),eA((0,A.DJ)("listening","part1").length),eL((0,A.DJ)("listening","part2").length),eT((0,A.DJ)("listening","part3").length),eR((0,A.DJ)("grammar","part1").length),eM((0,A.DJ)("grammar","part2").length),eF((0,A.DJ)("writing","part1").length),eJ((0,A.DJ)("writing","part2").length);let d=localStorage.getItem("systemSettings");d&&ep(JSON.parse(d)),ei(!1)},[e]),(0,i.useEffect)(()=>{let e=[...Z];if("all"!==eh.type&&(e=e.filter(e=>e.type===eh.type)),"all"!==eh.part&&(e=e.filter(e=>e.part===eh.part)),em){let s=em.toLowerCase();e=e.filter(e=>{var a;return e.title.toLowerCase().includes(s)||(null===(a=e.description)||void 0===a?void 0:a.toLowerCase().includes(s))||e.id.toLowerCase().includes(s)})}Y(e),er([]),ed(!1)},[Z,eh,em]);let eU=(e,s)=>{let a={...ef};if(e.includes(".")){let[t,i]=e.split(".");a[t][i]=s}else a[e]=s;ep(a),localStorage.setItem("systemSettings",JSON.stringify(a))},eZ=e=>{el.includes(e)?er(el.filter(s=>s!==e)):er([...el,e])},eI=(e,s)=>{eu({...eh,[e]:s})};if(K)return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(d.A,{}),(0,t.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"text-center",children:"Loading..."})})]});if(!a&&!C)return null;let eB=D&&S.x.canRemoveUsers(D),eG=D&&S.x.canRemoveExercises(D);return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(c.A,{}),(0,t.jsx)(d.A,{}),(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Admin Dashboard"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("p",{className:"text-gray-600 mr-2",children:"Manage exercises, users, and system settings."}),a?(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800",children:[(0,t.jsx)(h.A,{className:"w-3 h-3 mr-1"})," Admin"]}):C?(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,t.jsx)(h.A,{className:"w-3 h-3 mr-1"})," Moderator"]}):null]})]}),C&&!a&&(0,t.jsxs)(L.Fc,{className:"mb-6",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)(L.XL,{children:"Moderator Access"}),(0,t.jsx)(L.TN,{children:"As a moderator, you can add and edit users and exercises, but you cannot remove them. Contact an admin for those actions."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{className:"pb-2",children:(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-5 w-5 text-emerald-500"}),"Reading Exercises"]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Teil 1: Title Matching"}),(0,t.jsx)("span",{className:"font-bold",children:eg})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Teil 2: Multiple Choice"}),(0,t.jsx)("span",{className:"font-bold",children:eN})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Teil 3: Gap Filling"}),(0,t.jsx)("span",{className:"font-bold",children:ev})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-2 border-t",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsx)("span",{className:"font-bold",children:Z.filter(e=>"reading"===e.type).length})]})]})}),(0,t.jsx)(o.wL,{children:(0,t.jsx)(r(),{href:"/admin/exercises/create",className:"w-full",children:(0,t.jsx)(m.$,{variant:"outline",className:"w-full",children:"Add Exercise"})})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{className:"pb-2",children:(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-5 w-5 text-emerald-500"}),"Listening Exercises"]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Teil 1: Short Conversations"}),(0,t.jsx)("span",{className:"font-bold",children:ew})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Teil 2: Dialogue"}),(0,t.jsx)("span",{className:"font-bold",children:eS})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Teil 3: News & Announcements"}),(0,t.jsx)("span",{className:"font-bold",children:eC})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-2 border-t",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsx)("span",{className:"font-bold",children:Z.filter(e=>"listening"===e.type).length})]})]})}),(0,t.jsx)(o.wL,{children:(0,t.jsx)(r(),{href:"/admin/exercises/create",className:"w-full",children:(0,t.jsx)(m.$,{variant:"outline",className:"w-full",children:"Add Exercise"})})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{className:"pb-2",children:(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"h-5 w-5 text-emerald-500"}),"Grammar Exercises"]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Teil 1: Fill in the Blanks"}),(0,t.jsx)("span",{className:"font-bold",children:ek})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Teil 2: Word Formation"}),(0,t.jsx)("span",{className:"font-bold",children:eE})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-2 border-t",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsx)("span",{className:"font-bold",children:Z.filter(e=>"grammar"===e.type).length})]})]})}),(0,t.jsx)(o.wL,{children:(0,t.jsx)(r(),{href:"/admin/exercises/create",className:"w-full",children:(0,t.jsx)(m.$,{variant:"outline",className:"w-full",children:"Add Exercise"})})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{className:"pb-2",children:(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-5 w-5 text-emerald-500"}),"Writing Exercises"]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Teil 1: Formal Letter/Email"}),(0,t.jsx)("span",{className:"font-bold",children:eD})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Teil 2: Essay"}),(0,t.jsx)("span",{className:"font-bold",children:ez})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-2 border-t",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsx)("span",{className:"font-bold",children:Z.filter(e=>"writing"===e.type).length})]})]})}),(0,t.jsx)(o.wL,{children:(0,t.jsx)(r(),{href:"/admin/exercises/create",className:"w-full",children:(0,t.jsx)(m.$,{variant:"outline",className:"w-full",children:"Add Exercise"})})})]})]}),(0,t.jsxs)(x.tU,{defaultValue:"exercises",className:"w-full",children:[(0,t.jsxs)(x.j7,{className:"mb-4",children:[(0,t.jsx)(x.Xi,{value:"exercises",children:"Exercises"}),(0,t.jsx)(x.Xi,{value:"users",children:"Users"}),(0,t.jsx)(x.Xi,{value:"settings",children:"Settings"})]}),(0,t.jsx)(x.av,{value:"exercises",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"All Exercises"}),(0,t.jsx)(o.BT,{children:"Manage all exercises in the system"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(E.p,{placeholder:"Search exercises...",value:em,onChange:e=>ex(e.target.value),className:"w-full"})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(G,{children:[(0,t.jsx)(W,{asChild:!0,children:(0,t.jsxs)(m.$,{variant:"outline",className:"flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4"}),"Filter"]})}),(0,t.jsxs)($,{className:"w-56",children:[(0,t.jsx)(V,{children:"Filter Exercises"}),(0,t.jsx)(O,{}),(0,t.jsxs)(_,{children:[(0,t.jsx)(V,{className:"text-xs text-gray-500",children:"Exercise Type"}),(0,t.jsx)(P,{className:"all"===eh.type?"bg-gray-100":"",onClick:()=>eI("type","all"),children:"All Types"}),(0,t.jsx)(P,{className:"reading"===eh.type?"bg-gray-100":"",onClick:()=>eI("type","reading"),children:"Reading"}),(0,t.jsx)(P,{className:"listening"===eh.type?"bg-gray-100":"",onClick:()=>eI("type","listening"),children:"Listening"}),(0,t.jsx)(P,{className:"grammar"===eh.type?"bg-gray-100":"",onClick:()=>eI("type","grammar"),children:"Grammar"}),(0,t.jsx)(P,{className:"writing"===eh.type?"bg-gray-100":"",onClick:()=>eI("type","writing"),children:"Writing"})]}),(0,t.jsx)(O,{}),(0,t.jsxs)(_,{children:[(0,t.jsx)(V,{className:"text-xs text-gray-500",children:"Exercise Part"}),(0,t.jsx)(P,{className:"all"===eh.part?"bg-gray-100":"",onClick:()=>eI("part","all"),children:"All Parts"}),(0,t.jsx)(P,{className:"part1"===eh.part?"bg-gray-100":"",onClick:()=>eI("part","part1"),children:"Teil 1"}),(0,t.jsx)(P,{className:"part2"===eh.part?"bg-gray-100":"",onClick:()=>eI("part","part2"),children:"Teil 2"}),(0,t.jsx)(P,{className:"part3"===eh.part?"bg-gray-100":"",onClick:()=>eI("part","part3"),children:"Teil 3"})]})]})]}),(0,t.jsx)(r(),{href:"/admin/exercises/create",children:(0,t.jsx)(m.$,{children:"Create New Exercise"})})]})]}),el.length>0&&eG&&(0,t.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-md",children:[(0,t.jsxs)("span",{children:[el.length," exercise",el.length>1?"s":""," selected"]}),(0,t.jsxs)(m.$,{variant:"destructive",size:"sm",className:"flex items-center gap-1",onClick:()=>eo(!0),children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),"Delete Selected"]})]}),(0,t.jsxs)("div",{className:"border rounded-md",children:[(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-4 p-4 font-medium border-b bg-gray-50",children:[(0,t.jsx)("div",{className:"col-span-1 flex items-center",children:(0,t.jsx)(J.S,{checked:en,onCheckedChange:()=>{en?er([]):er(B.map(e=>e.id)),ed(!en)},disabled:!eG})}),(0,t.jsx)("div",{className:"col-span-3",children:"Title"}),(0,t.jsx)("div",{className:"col-span-2",children:"Type"}),(0,t.jsx)("div",{className:"col-span-2",children:"Part"}),(0,t.jsx)("div",{className:"col-span-2",children:"Time Limit"}),(0,t.jsx)("div",{className:"col-span-2",children:"Actions"})]}),0===B.length?(0,t.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No exercises found"}):B.map((e,s)=>(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-4 p-4 ".concat(s%2==0?"bg-white":"bg-gray-50"," border-b last:border-0"),children:[(0,t.jsx)("div",{className:"col-span-1 flex items-center",children:(0,t.jsx)(J.S,{checked:el.includes(e.id),onCheckedChange:()=>eZ(e.id),disabled:!eG})}),(0,t.jsx)("div",{className:"col-span-3 truncate",children:e.title}),(0,t.jsx)("div",{className:"col-span-2 capitalize",children:e.type}),(0,t.jsx)("div",{className:"col-span-2",children:"part1"===e.part?"Teil 1":"part2"===e.part?"Teil 2":"Teil 3"}),(0,t.jsxs)("div",{className:"col-span-2",children:[e.timeLimit," min"]}),(0,t.jsxs)("div",{className:"col-span-2 flex gap-2",children:[(0,t.jsx)(r(),{href:"/admin/exercises/edit/".concat(e.id),children:(0,t.jsx)(m.$,{variant:"outline",size:"sm",children:"Edit"})}),eG&&(0,t.jsx)(r(),{href:"/admin/exercises/delete/".concat(e.id),children:(0,t.jsx)(m.$,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700",children:"Delete"})})]})]},e.id))]})]})})]})}),(0,t.jsx)(x.av,{value:"users",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"User Management"}),(0,t.jsx)(o.BT,{children:"Manage user accounts and permissions"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Users"}),(0,t.jsx)(r(),{href:"/admin/users/create",children:(0,t.jsx)(m.$,{children:"Add New User"})})]}),(0,t.jsxs)("div",{className:"border rounded-md",children:[(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-4 p-4 font-medium border-b bg-gray-50",children:[(0,t.jsx)("div",{className:"col-span-1",children:"ID"}),(0,t.jsx)("div",{className:"col-span-3",children:"Name"}),(0,t.jsx)("div",{className:"col-span-2",children:"Code"}),(0,t.jsx)("div",{className:"col-span-2",children:"Role"}),(0,t.jsx)("div",{className:"col-span-4",children:"Actions"})]}),0===q.length?(0,t.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No users found"}):q.map((e,s)=>(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-4 p-4 ".concat(s%2==0?"bg-white":"bg-gray-50"," border-b last:border-0"),children:[(0,t.jsxs)("div",{className:"col-span-1",children:[e.id.substring(0,8),"..."]}),(0,t.jsx)("div",{className:"col-span-3",children:e.name}),(0,t.jsx)("div",{className:"col-span-2",children:e.code}),(0,t.jsx)("div",{className:"col-span-2",children:e.role?e.role:e.isAdmin?"Admin":e.isModerator?"Moderator":"Student"}),(0,t.jsxs)("div",{className:"col-span-4 flex gap-2",children:[(0,t.jsx)(r(),{href:"/admin/users/edit/".concat(e.id),children:(0,t.jsx)(m.$,{variant:"outline",size:"sm",children:"Edit"})}),eB&&(0,t.jsx)(r(),{href:"/admin/users/delete/".concat(e.id),children:(0,t.jsx)(m.$,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700",children:"Delete"})})]})]},e.id))]})]})})]})}),(0,t.jsx)(x.av,{value:"settings",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"h-5 w-5"}),"System Settings"]}),(0,t.jsx)(o.BT,{children:"Configure system-wide settings and preferences"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"General Settings"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(R.Label,{htmlFor:"siteTitle",children:"Site Title"}),(0,t.jsx)(E.p,{id:"siteTitle",value:ef.siteTitle,onChange:e=>eU("siteTitle",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(R.Label,{htmlFor:"language",children:"System Language"}),(0,t.jsxs)(M.l6,{value:ef.language,onValueChange:e=>eU("language",e),children:[(0,t.jsx)(M.bq,{id:"language",children:(0,t.jsx)(M.yv,{placeholder:"Select language"})}),(0,t.jsxs)(M.gC,{children:[(0,t.jsx)(M.eb,{value:"en",children:"English"}),(0,t.jsx)(M.eb,{value:"de",children:"German"}),(0,t.jsx)(M.eb,{value:"fr",children:"French"}),(0,t.jsx)(M.eb,{value:"es",children:"Spanish"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(k,{id:"allowRegistration",checked:ef.allowRegistration,onCheckedChange:e=>eU("allowRegistration",e)}),(0,t.jsx)(R.Label,{htmlFor:"allowRegistration",children:"Allow Public Registration"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(k,{id:"maintenanceMode",checked:ef.maintenanceMode,onCheckedChange:e=>eU("maintenanceMode",e)}),(0,t.jsx)(R.Label,{htmlFor:"maintenanceMode",children:"Maintenance Mode"})]})]})]}),(0,t.jsx)(F,{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[(0,t.jsx)(y.A,{className:"h-5 w-5"}),"Test Settings"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(R.Label,{htmlFor:"timeLimit-reading",children:"Reading Time Limit (min)"}),(0,t.jsx)(E.p,{id:"timeLimit-reading",type:"number",min:"1",value:ef.defaultTimeLimit.reading,onChange:e=>eU("defaultTimeLimit.reading",Number.parseInt(e.target.value))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(R.Label,{htmlFor:"timeLimit-listening",children:"Listening Time Limit (min)"}),(0,t.jsx)(E.p,{id:"timeLimit-listening",type:"number",min:"1",value:ef.defaultTimeLimit.listening,onChange:e=>eU("defaultTimeLimit.listening",Number.parseInt(e.target.value))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(R.Label,{htmlFor:"timeLimit-grammar",children:"Grammar Time Limit (min)"}),(0,t.jsx)(E.p,{id:"timeLimit-grammar",type:"number",min:"1",value:ef.defaultTimeLimit.grammar,onChange:e=>eU("defaultTimeLimit.grammar",Number.parseInt(e.target.value))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(R.Label,{htmlFor:"timeLimit-writing",children:"Writing Time Limit (min)"}),(0,t.jsx)(E.p,{id:"timeLimit-writing",type:"number",min:"1",value:ef.defaultTimeLimit.writing,onChange:e=>eU("defaultTimeLimit.writing",Number.parseInt(e.target.value))})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(k,{id:"showCorrectAnswers",checked:ef.showCorrectAnswers,onCheckedChange:e=>eU("showCorrectAnswers",e)}),(0,t.jsx)(R.Label,{htmlFor:"showCorrectAnswers",children:"Show Correct Answers After Test"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(k,{id:"allowTestRetake",checked:ef.allowTestRetake,onCheckedChange:e=>eU("allowTestRetake",e)}),(0,t.jsx)(R.Label,{htmlFor:"allowTestRetake",children:"Allow Users to Retake Tests"})]})]})]}),(0,t.jsx)(F,{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-5 w-5"}),"Demo Account Settings"]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(R.Label,{htmlFor:"demoAccessLevel",children:"Demo Account Access Level"}),(0,t.jsxs)(M.l6,{value:ef.demoAccessLevel,onValueChange:e=>eU("demoAccessLevel",e),children:[(0,t.jsx)(M.bq,{id:"demoAccessLevel",children:(0,t.jsx)(M.yv,{placeholder:"Select access level"})}),(0,t.jsxs)(M.gC,{children:[(0,t.jsx)(M.eb,{value:"none",children:"No Access"}),(0,t.jsx)(M.eb,{value:"limited",children:"Limited Access (First exercise of each type)"}),(0,t.jsx)(M.eb,{value:"full",children:"Full Access (All exercises)"})]})]})]})})]})]})}),(0,t.jsx)(o.wL,{className:"flex justify-end",children:(0,t.jsx)(m.$,{onClick:()=>{localStorage.setItem("systemSettings",JSON.stringify(ef)),s({title:"Settings Saved",description:"Your system settings have been saved successfully."})},className:"bg-emerald-600 hover:bg-emerald-700",children:"Save Settings"})})]})})]})]}),(0,t.jsx)(X,{open:ec,onOpenChange:eo,children:(0,t.jsxs)(Q,{children:[(0,t.jsxs)(ee,{children:[(0,t.jsx)(ea,{children:"Delete Selected Exercises"}),(0,t.jsxs)(et,{children:["Are you sure you want to delete ",el.length," selected exercise",el.length>1?"s":"","? This action cannot be undone."]})]}),(0,t.jsxs)(es,{className:"flex justify-end gap-2",children:[(0,t.jsx)(m.$,{variant:"outline",onClick:()=>eo(!1),children:"Cancel"}),(0,t.jsx)(m.$,{variant:"destructive",onClick:()=>{if(0===el.length)return;let e=Z.filter(e=>!el.includes(e.id));localStorage.setItem("exercises",JSON.stringify(e)),I(e),er([]),ed(!1),eo(!1),s({title:"Exercises Deleted",description:"".concat(el.length," exercise(s) have been deleted successfully.")})},children:"Delete"})]})]})})]})}et.displayName=Y.VY.displayName},7890:(e,s,a)=>{"use strict";a.d(s,{Label:()=>c});var t=a(8081),i=a(2149),l=a(7447),r=a(3484),n=a(7687);let d=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.b,{ref:s,className:(0,n.cn)(d(),a),...i})});c.displayName=l.b.displayName},8747:(e,s,a)=>{"use strict";a.d(s,{S:()=>d});var t=a(8081),i=a(2149),l=a(1573),r=a(6722),n=a(7687);let d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.bL,{ref:s,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...i,children:(0,t.jsx)(l.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(r.A,{className:"h-4 w-4"})})})});d.displayName=l.bL.displayName},9684:(e,s,a)=>{"use strict";let t,i;a.d(s,{WV:()=>x,YP:()=>u,Yq:()=>f,lK:()=>h});var l=a(3124),r=a(6558),n=a(7033),d=a(1775);try{t=(0,l.Wp)({apiKey:"AIzaSyCVgDozEtEnz1BWZJfS-0-KkRWntCiNt8Y",authDomain:"telcmate.firebaseapp.com",projectId:"telcmate",storageBucket:"telcmate.firebasestorage.app",messagingSenderId:"945468433513",appId:"1:945468433513:web:88cc94b0976589a63f6ef8",measurementId:"G-ZRG66F2W9R"}),i=(0,r.aU)(t),(0,n.xI)(t),(0,d.TT)().then(e=>e&&(0,d.P5)(t))}catch(e){console.error("Error initializing Firebase:",e)}let c=(0,r.rJ)(i,"exercises"),o=(0,r.rJ)(i,"users"),m=(0,r.rJ)(i,"settings");async function x(e){return{id:(await (0,r.gS)(c,e)).id,...e}}async function h(){if((await (0,r.GG)(o)).empty)for(let e of[{name:"Admin User",code:"admin123",isAdmin:!0,isModerator:!1,isDemo:!1,role:"Admin"},{name:"Moderator User",code:"mod123",isAdmin:!1,isModerator:!0,isDemo:!1,role:"Moderator"},{name:"Test User",code:"user123",isAdmin:!1,isModerator:!1,isDemo:!1,role:"Student"},{name:"Demo User",code:"demo123",isAdmin:!1,isModerator:!1,isDemo:!0,role:"Student"}])await (0,r.gS)(o,e)}async function u(e){let s=(0,r.P)(o,(0,r._M)("code","==",e)),a=await (0,r.GG)(s);if(!a.empty){let e=a.docs[0];return{id:e.id,...e.data()}}return null}async function f(){(await (0,r.GG)(m)).empty&&await (0,r.BN)((0,r.H9)(m,"system"),{siteTitle:"Telc Mate",allowRegistration:!1,maintenanceMode:!1,defaultTimeLimit:{reading:20,listening:15,grammar:15,writing:30},language:"en",showCorrectAnswers:!0,allowTestRetake:!0,demoAccessLevel:"limited"})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2703,3136,6505,7950,6872,7043,2153,842,1343,6017,5515,497,954,7358],()=>s(5899)),_N_E=e.O()}]);